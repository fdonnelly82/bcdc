<!DOCTYPE html>
<html lang="en">
<head>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Aberdeen Cinema Compare</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous" />
        <link rel="stylesheet" type="text/css" href="css/perfect-scrollbar.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/search.css"/>
        <link rel="stylesheet" type="text/css" href="css/featured.css"/>
        <link rel="stylesheet" type="text/css" href="css/browse_all.css"/>
        <link rel="stylesheet" type="text/css" href="css/compare.css"/>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

        <script src="js/perfect-scrollbar.min.js"></script>
        <script src="js/perfect-scrollbar.jquery.min.js"></script>

        <script src="js/miscellaneous.js"></script>
        <script src="js/yql.js"></script>
        <script src="js/belmont.js"></script>
        <script src="js/vue.js"></script>
        <script src="js/cineworld.js"></script>
        <script src="js/engine.js"></script>
        <script src="js/scroll.js"></script>

    </head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top navbar-custom">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand pull-left" href="#"><img id="logo" src="images/cinemalogo5.png"></a>
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li id="nav-search"><a class="active" href="#search">Search</a></li>
            <li id="nav-compare"><a href="#compare">Compare</a></li>
            <li id="nav-featured"><a href="#featured">Featured</a></li>
            <li id="nav-browse-all"><a href="#browse_all">Browse all</a></li>
        </ul>
    </div>
</nav>

<section id="welcome">
    <div id="search-big-outer">
        <div id="search-big-inner">
            <div class="input-group" id="search-big-container">
                <input type="text" class="form-control" placeholder="Search movie or actor ..." id="search-big-box">
                        <span class="input-group-addon"  id="search-big-button-span">
                            <i class="glyphicon glyphicon-search" id="search-big-button"></i>
                        </span>
            </div>

            <div id="search-big-loading-info">Loading movies information.. <img src="ajax-loader(3).gif" /></div>
        </div>
    </div>
</section>



<section id="content">


    <!-- SEARCH -->

    <section id="search">
        <div id="search-detailed-column-left">
            <div id="search-detailed-movies-info"></div>
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search movie or actor ..." id="search-detailed-box">
                        <span class="input-group-addon">
                            <i class="glyphicon glyphicon-search"></i>
                        </span>
            </div>
            <div id="search-detailed-actors">
            </div>
        </div>
        <div id="search-detailed-column-right">
            <div id="search-detailed-movies" class="modal"></div>
            <div class="clearfix"></div>
        </div>
        <div class="clearfix"></div>

    </section>




    <!-- COMPARE -->

    <section id="compare">
        <div id = "compareMovies">
            <div id = "bookingInfo">
                <div id = "timedateInfo">
                    <div id= "date">Date: <input id = "dPick" type="date"></div>
                    Time: <input id = "time" type="time">
                </div>
                <div id = "ticketDetails">
                    Type:
                    <select id = "type">
                        <option value="1">Student</option>
                        <option value="2">Adult</option>
                        <option value="3">Senior</option>
                        <option value="4">4</option>
                    </select>
                    Vip: <input type = "checkbox" id="vip">
                    Quantity: <input id = "quantity" type = "text">
                </div>
            </div>
            <hr>

            <div id = "compare1">
                <div id = "photo1">
                    <img src="images/vue.jpg">
                </div>
                <div id="vue-prices">
                    <div>Adult (£<span id="vue-cost-adult"></span>):<input id="vue-quantity-adult" value="0" type="text" style="width: 30px; color: black;"/></div>
                    <div>Child (£<span id="vue-cost-child"></span>):<input id="vue-quantity-child" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Senior (£<span id="vue-cost-senior"></span>):<input id="vue-quantity-senior" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Student (£<span id="vue-cost-student"></span>):<input id="vue-quantity-student" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Teen (£<span id="vue-cost-teen"></span>):<input id="vue-quantity-teen" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>All Inclusive Family (£<span id="vue-cost-allInclusiveFamily"></span>):<input id="vue-quantity-allInclusiveFamily" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Family X 4 (£<span id="vue-cost-familyX4"></span>):<input id="vue-quantity-familyX4" value="0" type="text" style="width: 30px; color: black;" /></div>
                </div>
                <h2 id="vue-overall-cost"></h2>
                <a id="vue-book" target="_blank"></a>
            </div>
            <div id = "compare2">
                <div id = "photo2">
                    <img src="images/Cineworld.png">
                </div>
                <div id="cineworld-prices">
                    <div>Adult (£<span id="cineworld-cost-adult"></span>):<input id="cineworld-quantity-adult" value="0" type="text" style="width: 30px; color: black;"/></div>
                    <div>Child (£<span id="cineworld-cost-child"></span>):<input id="cineworld-quantity-child" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Senior (£<span id="cineworld-cost-senior"></span>):<input id="cineworld-quantity-senior" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Student (£<span id="cineworld-cost-student"></span>):<input id="cineworld-quantity-student" value="0" type="text" style="width: 30px; color: black;" /></div>
                    <div>Family (£<span id="cineworld-cost-family"></span>):<input id="cineworld-quantity-family" value="0" type="text" style="width: 30px; color: black;" /></div>
                </div>
                <h2 id="cineworld-overall-cost"></h2>
                <a id="cineworld-book" target="_blank"></a>
            </div>

            <script>
                var vueProjection;
                var cineworldProjection;
                var movieName;

                var movieClick = function()
                {
                    document.location = "#compare";
                    var name = $(this).attr("moviename");
                    fillPrices(name);
                }

                // this should be really called after selecting a time
                // now im just always picking the first projection of second session (session[1].projection[0])
                var fillPrices = function(name) {
                    movieName = name;

                    $("#vue-prices").css("display","none");
                    $("#cineworld-prices").css("display","none");
                    $("#vue-overall-cost").text("");
                    $("#cineworld-overall-cost").text("");

                    if (AllMovies[name].vue != null) {
                        vueGetProjectionPricing(AllMovies[name].vue.session[1].projection[0], function (projection) {
                            vueProjection = projection;

                            if(projection == null)
                                alert("Vue: Projection time already passed. Error.")

                            for (type in projection.pricing) {
                                console.log(type);
                                $("#vue-cost-" + type).text(projection.pricing[type].standard)

                                $("#vue-prices").css("display","block");
                                $("#vue-book").text("Book now");
                                $("#vue-book").attr("href", projection.url);
                            }
                        });
                    }
                    else {
                        $("#vue-book").text("");
                        $("#vue-overall-cost").text("Not available");
                    }


                    if (AllMovies[name].cineworld != null) {
                        console.log(AllMovies[name].cineworld);

                        cineworldGetProjectionPricing(AllMovies[name].cineworld.session[1].projection[0], function (projection) {
                            cineworldProjection = projection;

                            if(typeof(projection) =="undefined")
                                alert("Cineworld: Projection time already passed. Error.")

                            for (type in projection.pricing) {
                                $("#cineworld-cost-" + type).text(projection.pricing[type].standard)

                                $("#cineworld-prices").css("display","block");
                                $("#cineworld-book").text("Book now");
                                $("#cineworld-book").attr("href", projection.url);
                            }
                        });
                    }
                    else {
                        $("#cineworld-book").text("");
                        $("#cineworld-overall-cost").text("Not available");
                    }

                }

                var comparePrices = function()
                {
                    var vueCost = 999999;
                    var cineworldCost = 999999;
                    if(AllMovies[movieName].cineworld != null)
                    {
                        cineworldCost = 0;
                        for (type in cineworldProjection.pricing) {
                            cineworldCost += parseInt($("#cineworld-quantity-" + type).val()) * cineworldProjection.pricing[type].standard;
                        }

                        $("#cineworld-overall-cost").text("£" + cineworldCost.toFixed(2));
                    }

                    if(AllMovies[movieName].vue != null)
                    {
                        vueCost = 0;
                        for (type in vueProjection.pricing) {
                            vueCost += parseInt($("#vue-quantity-" + type).val()) * vueProjection.pricing[type].standard;
                        }

                        $("#vue-overall-cost").text("£" + vueCost.toFixed(2));
                    }
                }

            </script>

            <div id = "compare3">

                <div id = "photo3">
                    <img src="images/Belmont.jpg">
                </div>
                <h1>N/A</h1>
                <input id = "timeComp" type="time">
            </div>
            <div><button onclick="comparePrices()" style="color: black;">compare!</button></div>
        </div>


        <div id = "videoHolder">
            <iframe width="100%" height="480" src="https://www.youtube.com/embed/NhWg7AQLI_8" frameborder="0" allowfullscreen frameborder="1"> </iframe>
            <h1>Batman vs Superman<img src="images/12A.png"></h1>
            <div id = "movieInfo">
                <p> It's been nearly two years since Superman's (Henry Cavill) colossal battle with Zod (Michael Shannon) devastated the city of Metropolis. The loss of life and collateral damage left many feeling angry and helpless, including crime-fighting billionaire Bruce Wayne (Ben Affleck). Convinced that Superman is now a threat to humanity, Batman embarks on a personal vendetta to end his reign on Earth, while the conniving Lex Luthor (Jesse Eisenberg) launches his own crusade against the Man of Steel. </p>
            </div>
        </div>
        </div>
    </section>



    <!-- FEATURED -->

    <section id="featured">
        <!--Film name, rating and poster to be inserted here,
        clicking on a poster should bring up prices for ciniworld,
        Vue and Belmont on different paragraphs -->
        <div id="featured-margin"></div>
        <div class="featured-container">
            <div class="center-text featured-title"><span>Trending Now</span></div>

            <div class="featured-node">
                <a href="compare.html"><img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002945-lg.jpg" id="featured-img" class="hvr-float-shadow"></a>
            </div>
            <div class="featured-node">
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002984-lg.jpg" id="featured-img" class="hvr-float-shadow">
            </div>
            <div class="featured-node">

                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002979-lg.jpg" id="featured-img" class="hvr-float-shadow">
            </div>
            <div class="featured-node">
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002968-lg.jpg" id="featured-img" class="hvr-float-shadow">
            </div>
        </div>

    </section>




    <!-- BROWSE ALL -->


    <section id = "browse_all">
        <!-- Container with nodes inside for each movie -->
        <div class="allmovies_container">
            <div class="center-text allmovies-title"><span>All Movies Listing</span></div>
            <div class="allmovies_node">
                <header>
                    <a href="compare.html"><img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002945.jpg" id="allmovies_poster" class = "hvr-shrink"/></a>
                </header>
                <div class="allmovies_description">
                    <h1 class="MovieTitle"><a href="compare.html">Batman V Superman: Dawn of Justice</a></h1>
                </div>
            </div>
            <div class="allmovies_node">
                <header>
                    <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002979.jpg" id="allmovies_poster" class = "hvr-shrink"/>
                </header>
                <div class="allmovies_description">
                    <h1 class="MovieTitle"><a href="#">Kung Fu Panda 3</a></h1>
                </div>
            </div>
            <div class="allmovies_node">
                <header>
                    <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003096.jpg" id="allmovies_poster" class = "hvr-shrink"/>
                </header>
                <div class="allmovies_description">
                    <h1 class="MovieTitle"><a href="#">My Big Fat Greek Wedding 2</a></h1>
                </div>
            </div>
            <div class="allmovies_node">
                <header>
                    <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003360.jpg" id="allmovies_poster" class = "hvr-shrink"/>
                </header>
                <h1 class="MovieTitle"><a href="#">10 Cloverfield Lane</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003382.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Eddie The Eagle</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003309.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Capture The Flag</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002616.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <h1 class="MovieTitle"><a href="#">Snoopy And Charlie Brown: The Peanuts Movie</a></h1>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003097.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Zootropolis</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003106.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">The Huntsman: Winter's War</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003083.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Goosebumbs</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003384.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">High-Rise</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003332.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">The Boy</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00002622.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">London Has Fallen</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003000-md.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Alvin And The Chipmunks: The Road Chip</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003480.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <h1 class="MovieTitle"><a href="#">Darwinte Parinamam(Malayalam)</a></h1>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003094.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">The Divergent Series: Allegiant</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>
                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003433.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Norm Of The North</a></h1>
            </div>
        </div>
        <div class="allmovies_node">
            <header>

                <img src="http://www1.cineworld.co.uk/xmedia-cw/repo/feats/posters/HO00003243.jpg" id="allmovies_poster" class = "hvr-shrink"/>
            </header>
            <div class="allmovies_description">
                <h1 class="MovieTitle"><a href="#">Vaaliba Raja(Tamil)</a></h1>
            </div>
        </div>
        <div class="clearfix"></div>
        </div>
    </section>

    <div class="clearfix"></div>


    <footer>
        <div>BCDC - Best Computing Design Company</div>
        <div>All Rights Reserved @ 2016</div>
        <div><a href="https://github.com/fdonnelly82/bcdc" style="color: blue;">GitHub</a></div>
    </footer>
</section>

<div id="search-subpage-background" class="search-subpage-background-extra" >
    <img src="background2.jpg" id="search-subpage-image" class="search-subpage-image-extra"/>
</div>



<script src="js/search.js"></script>
<script>
    $(document).ready(function () {

         initWebApp(function(){
            $(".search-detailed-movie-node").click(movieClick);
         });

        /*
        cineworldFetchMovies(function(movies) {
            cineworldGetExtra(movies[0], function (movie) {
                console.log(movie);
            });
        });
         */
    });


</script>
</body>
</html>


</head>
<body>

</body>
</html>